<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
		   div{
			   border: #008000 solid 1px;
			   width: 300px;
		   }
		   div img{
			   width: 30px;
			   height: 30px;
			   vertical-align: middle;
			   cursor: pointer;
		   }
		   div input{
			   width: 220px;
			   height:30px ;
			   border-style: none;
			   padding-left: 10px;
		   }
		   .clear{
			   position: relative;
			   left: -20px;
			   display: none;
		   }
		</style>
	</head>
	<body>
		
		<div>
			<input type="password" placeholder="输入密码" oninput="ipt(this)"  />
			<img src="images/close.png" class="clear" onclick="cls(this)"  />
			<img src="images/no_eye.png" onclick="chg(this)" />
		</div>
		
		<script>
		
		   //清除按钮
		   function cls(el){
			   //清除密码框 的值
			   var pwd=document.querySelector("input");
			   pwd.value="";
			   
			   //关闭按钮
			   el.style.display="none";
		   }
		
		   //处理密码值
		   function ipt(el){
			  //获取清除按钮
			  var cls=document.querySelector(".clear");
			  if(el.value.length>0){
				  cls.style.display="inline-block";
			  }else{
				  cls.style.display="none";
			  }
		   }
		
		    function chg(el){
				//获取密码框元素
				var pwd=document.querySelector("input");
				//判断当前状态是否显示密码
				if(el.src.indexOf("images/no_eye.png")>=0){
					//将其改成显示密码
					el.src="images/eye.png";
					pwd.type="text";
				}else{
					//将其改成不显示密码
					el.src="images/no_eye.png";
					pwd.type="password";
				}
			}
		</script>
	</body>
</html>
